---
layout: post
category: Pro
---
> `공부 목적`으로 작성한 포스팅입니다.

AWS랑 친해지고 싶어서 프로젝트를 시작했다. 디지털북스 출판사의 *AWS 클라우드 기반의 Django 웹 어플리케이션* 이라는 책을 일주일 안에 완독하려고 당당하게 빌렸는데, 장기 프로젝트가 될 것 같다.

## MySQL 연동 오류

RDS랑 MySQL 연결하기 위해서 책에 나온 데로 따라했다.

![에러1](./image/du1.png)

**안된다...안된다..**<br/>
생각해보니까 RDS 데이터 베이스가 private subnet이라서 public subnet에 있는 EC2에서만 접근이 가능할 것 같다. 내 노트북 ip는 EC2 주소가 아니기 때문에 당연히 접근이 불가능한 거다......<br/>
구글에 검색해보니까 [AWS 공식 사이트][여기]에 해결 방법이 적혀있다.

- [연결 방법]을 선택하고 [표준 TCP/IP over SSH]를 선택합니다.
- [SSH 호스트 이름]에 EC2 인스턴스의 퍼블릭 IP 주소를 입력합니다.
- SSH 사용자 이름(SSH Username)에 EC2 인스턴스에 연결할 기본 SSH 사용자 이름을 입력합니다.
  - 설정한 OS에 따라 Username이 다른데, Amazon Linux는 ec2-user이고 Ubuntu는 ubuntu다. 그 외 다른 OS로 설정했다면 [여기][여기2]를 참고해라.
- SSH 키 파일(SSH Key File)을 선택하고 파일 시스템에서 연결하는 데 사용된 .pem 파일을 선택합니다.
  - 처음 만들 때 받았던 key파일이다.
- MySQL 호스트 이름(MySQL Hostname)에 데이터베이스 엔드포인트 이름을 입력합니다.
- MySQL 서버 포트(MySQL Server Port)에 데이터베이스에 연결하는 데 사용하는 포트 번호를 입력합니다.
- 사용자 이름(Username)에 데이터베이스에 연결하는 데 사용하는 사용자 이름을 입력합니다.
- [암호]에 MySQL 사용자 암호를 입력합니다.
- 테스트 연결(Test Connection)을 선택합니다. 테스트가 성공하면 확인(OK)을 선택하여 연결을 저장합니다.

<br/>
![에러2](./image/du.png)

**안된다!! 안됟나!!**<br/>
에러를 구글에 검색해보니까 MySQL 자체 문제인 것 같은데, 오늘 새벽은 이것만 해결하다 잘 것 같다. 당장 세팅만으로도 이렇게 시간이 많이 걸릴 줄 알았으면 시작도 안했을텐데 망했지만 가보자고~

[여기]: https://aws.amazon.com/ko/premiumsupport/knowledge-center/rds-mysql-ssh-workbench-connect-ec2/
[여기2]: https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/managing-users.html