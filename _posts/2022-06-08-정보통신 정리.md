---
layout: post
category: Note
---
> `Computer Networking Top Down Approach` 정리

교수님이 강조한 것들 모음

<details>
<summary>4장 & 5장</summary>
<div markdown="1">

## Network-layer function
- **Data plane** : forwarding
- **Control plane** : routing

## Forwarding & Routing
Forwarding: 라우터의 input link에서 output link로 packet으로 전달하는 내부 동작
Routing: forwarding+network의 모든 router의 packet path를 결정하는 것

## Router의 구조
### Input port
router로 들어오는 physical link와 연결. routing protocol의 정보를 전달하는 control packet은 input port에서 routing processor로 전달된다. 또한 data link layer의 기능을 수행. input port의 forwarding 결정은 복사된 table을 보고 routing processor가 아닌 각 input port에 의해서 이루어진다. forwaridng table의 lookup은 table에서 longest prefix matching rules을 찾으면 된다.

### Switching
router의 input porot를 output port로 연결 이 구조를 통해 packet은 output port로 이동한다.

- **via memory** : speed limited by memory bandwidth.

- **via a bus** : 공유되는 bus로 인해 한번에 한 packet만이 bus 통해 전달된다. 만약 다른 packet이 bus를 사용중이면 도착한 packet은 input port에 대기한다.

- **via interconnection network** : bus bandwidth limitations을 해결했다. Cisco 12000!

### Input port Queuing
packet의 도착속도가 router의 처리속도보다 크면 buffer가 차기시작하고 결국 buffer가 꽉차면 packet을 버려지게 된다. HOL blocking

### Output port queueing
switch의 처리 속도가 output port가 link로 내보내는 속도보다 크다면, 한 단위시간(router의 내부에서 switch가 packet을 전송하는 시간)에 하나의 packet을 전송하므로, output port의 buffer에 packet이 쌓이면서 결국, packet loss가 발생한다. with N flows, buffer의 양은 B= RTT*C/ root(N)

### Scheduling mechanisms
- FIFO(first in first out) scheduling
- Priority scheduling
- RR(Round Robin) scheduling
- WFQ(Weighted Fair Queuing)

## IP datagram format
![ip](./image/ip.jpg)

## Compare and Contrast the IPv4 IPv6
- IPv6에는 IPv4헤더에 포함될 수 있는 대부분의 옵션이 포함되지 않은 고정길이 헤더가 있다.
- IPv6 헤더의 크기는 고정되어 Header Length 필드가 필요하지 않다.

## Routing Algorithm
- Objective : 최소 비용 path를 찾아서 packet을 전달한다.

### Link State(LS) algorithm
- Networkt topolgy 사아의 모든 link cost를 이미 알고 있는 상태에서 path를 찾는 것으로 각 노드가 link의 cost와 식별을 포함하는 packet인 link state packet을 network 상의 다른 노드로 broadcasting 함으로써 만들어진다.
- 알고리즘은 다익스트라 알고리즘이다. 다익스트라 알고리즘은 한 노드에서 다른 모든 노드에 이르는 최소 비용 경로를 모두 계산한다.
- Time Complexity: 총 체크하는 노드의 수는 n(n+1)/2이므로 O(n^2)이 된다.
- Problem: 혼잡이나 지연을 기반으로 하는 link방식을 기반으로 사용하는 모든 알고리즘에서 진동문제가 발생한다.
- Solution: traffic을 고려하면 된다. 위와 같은 problem을 막기 위해서 동시에 모든 router가 LS 알고리즘을 수행하지 못하게 한다. 혹은 LS 알고리즘의 결과를 송신하는 시간을 각 노드가 임의로 처리하도록 한다.

### Distance-Vector algorithm
- 직접 연결괸 neighbor가 주는 정보로 계산하고, 결과를 neighbor에게 열린다는 점에서 distributive이며, neighbor과 정보를 교환하지 않을 때까지 지속한다는 점에서 interative이며, 모든 노드가 asynchronous 방식으로 동작한다.
- Bellman-Ford equation(Dynamic programming)
- Problem: 중간에 이동하는 routing table의 정보들이 잘못된 경우 link cost가 증가된 경우
- Solution: Poisoned reverse. 하지만, 세 개 혹은 더 많은 노드를 포함한 routing loop는 감지 할 수가 없다.

## LS vs DV
- Message Complexity
   - LS: 각 node는 network의 각 link cost에 대해서 O(nE)
   - DV: 각 node는 직접 연결된 neighbor와 message를 교환. 단, 알고리즘을 수렴하는 데 걸리는 시간이 많이 걸릴 수 있다.

- Speed of Convergence
   - LS: O(n^2) 알고리즘, oscillations가 발생할 수 있다.
   - DV: 매우 천천히 수렴, routing loop가 발생할 수도 있다.

- Robustness
   - LS : 변질된 link cost되거나 잘못된 table 정보가 broadcasting 되는 경우 문제가 발생.
   - DV : 잘못된 node 계산이 전체 network에 확산될 우려가 있음
   - 어느것도 좋다고 할 수 없다

## AS(autonomous systems)
- Intra-AS routing : RIP, OSPF, BGP
- Inter-AS routing

## Intra-AS
- routing among hosts, routers in same AS
- 내부 게이트웨이 프로토콜

### RIP
- DV 알고리즘, UDP 사용

### OSPF
- 다익스트라 알고리즘을 사용하는 Link State 알고리즘
- Security: router 사이에서의 모든 정보 교환은 인증을 받아야 한다
- 동일한 cost를 갖는 목적지까지의 여러 path가 존재할 때, OSPF는 여러 경로를 사용할 수 있다
- AS를 계층적으로 조직화 할 수 있다

### BGP
- 표준 inter AS routing protocol
- 반영구적인 TCP 연결을 사용
- eBGP: 외부,

## Inter-AS
- routing among AS'es

## Subnetting
네트워크 IP를 할당받는 AS가 자신의 구역 내에서 다시 물리적인 네트워크 환경을 나누기 위해 필요한 작업이다.

## CIDR(Classless InterDomain Routing)
Class를 없앤 방식, class를 구분하지 않기 때문에 어디까지가 network ID인지 알려주는 정보가 따로 필요하다.

## DHCP(Dynaminc Host Configuration Protocol)
- "plug and play" 자동으로 host와 network을 연결시켜준다.
- host IP가 고정으로 할당되거나 유동으로 할당되게 할 수 있으며, IP address뿐만 아니라 subndet mask, 첫번째 hop router, local DNS server address같은 것을 제공한다.

</div>
</details>

<details>
<summary>수정중</summary>
<div markdown="1">

```c++

```

</div>
</details>

<details>
<summary>수정중</summary>
<div markdown="1">

```c++

```

</div>
</details>