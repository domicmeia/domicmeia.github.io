<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <script
    type="application/javascript"
    src='https://domicmeia.github.io/js/theme-mode.js'
  ></script>
  <link rel="stylesheet" href='https://domicmeia.github.io/css/frameworks.min.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/github.min.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/github-style.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/light.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/dark.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/syntax.css' />
  
  <title>
    [Networking]OSI layer 1&amp;2: NIC | Domicmeia
  </title>
  
  <link rel="icon" type="image/x-icon" href="/images/avatar.jpeg" />
  
  <meta name="theme-color" content="#1e2327" />

  
  <meta
  name="description"
  content="How NICs work"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://domicmeia.github.io/post/nicwork/" />


<meta name="twitter:card" content="summary" />
<meta
  name="twitter:title"
  content="[Networking]OSI layer 1&amp;2: NIC - Domicmeia"
/>
<meta
  name="twitter:description"
  content="How NICs work"
/>
<meta name="twitter:site" content="https://domicmeia.github.io/" />
<meta name="twitter:creator" content="" />
<meta
  name="twitter:image"
  content="https://domicmeia.github.io/"
/>


<meta
  property="og:type"
  content="article"
/>
<meta
  property="og:title"
  content="[Networking]OSI layer 1&amp;2: NIC - Domicmeia"
/>
<meta
  property="og:description"
  content="How NICs work"
/>
<meta property="og:url" content="https://domicmeia.github.io/post/nicwork/" />
<meta property="og:site_name" content="[Networking]OSI layer 1&amp;2: NIC" />
<meta
  property="og:image"
  content="https://domicmeia.github.io/"
/>
<meta property="og:image:width" content="2048" />
<meta property="og:image:height" content="1024" />

<meta property="article:published_time" content="2024-03-30 20:03:54 &#43;0900 KST" />















</head>


<body>
  

<style>
  .height-limitation {
    max-height: 300px;
    overflow-y: scroll;
  }

  .loader {
    border: 4px solid #f3f3f3;
    border-bottom: 4px solid var(--color-fg-muted);
    border-radius: 50%;
    width: 30px;
    height: 30px;
    animation: spin 1s linear infinite;
    margin: 0 auto;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>

<div style="position: relative">
  <header
    class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on"
  >
    <div
      class="Header-item mobile-none"
      style="margin-top: -4px; margin-bottom: -4px"
    >
      <a class="Header-link" href="https://domicmeia.github.io/" aria-label="Home">
        <svg
          class="octicon"
          height="32"
          viewBox="0 0 16 16"
          version="1.1"
          width="32"
        >
          <path
            fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
          ></path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button
        class="Header-link btn-link js-details-target"
        type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'"
        aria-label="Search"
      >
        <svg
          height="24"
          class="octicon octicon-three-bars"
          viewBox="0 0 16 16"
          version="1.1"
          width="24"
        >
          <path
            fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"
          ></path>
        </svg>
      </button>
    </div>
    <div
      style="display: none"
      id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex"
    >
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"
      >
        <div class="position-relative">
          <form
            target="_blank"
            action="https://www.google.com/search"
            accept-charset="UTF-8"
            method="get"
            autocomplete="off"
          >
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center"
            >
              <input
                type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q"
                value=""
                placeholder="Search"
                autocomplete="off"
              />
              <input type="hidden" name="q" value="site:https://domicmeia.github.io/" />
              <div
                class="js-jump-to-suggestions-container jump-to-suggestions overflow-hidden position-absolute"
              >
                <div
                  id="search-progress"
                  class="d-none color-bg-primary no-underline p-2"
                  role="progress"
                  aria-selected="false"
                >
                  <div class="loader"></div>
                </div>

                <ul
                  id="jump-to-results"
                  role="listbox"
                  class="Box border-0 p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container js-active-navigation-container height-limitation"
                ></ul>
              </div>
            </label>
          </form>
        </div>
      </div>
    </div>

    <div
      class="Header-item Header-item--full flex-justify-center d-md-none position-relative"
    >
      <a class="Header-link" href="https://domicmeia.github.io/" aria-label="Home">
        <svg
          class="octicon octicon-mark-github v-align-middle"
          height="32"
          viewBox="0 0 16 16"
          version="1.1"
          width="32"
        >
          <path
            fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
          ></path>
        </svg>
      </a>
    </div>
    <div class="Theme-switcher Header-item" style="margin-right: 0">
      <span
        role="button"
        class="Header-link no-select"
        onclick="switchTheme()"
        style="cursor: pointer"
        aria-label="Switch theme"
      >
        <svg
          style="fill: var(--color-profile-color-modes-toggle-moon)"
          class="no-select"
          viewBox="0 0 16 16"
          version="1.1"
          width="16"
          height="16"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z"
          ></path>
        </svg>
      </span>
    </div>
  </header>
</div>

  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://domicmeia.github.io/">
                  <img class=" avatar-user"
                    src="/images/avatar.jpeg"
                    width="32" height="32" alt="domicmeia"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://domicmeia.github.io/">domicmeia</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://domicmeia.github.io/post/nicwork/">[Networking]OSI layer 1&amp;2: NIC</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Sat, 30 Mar 2024 20:03:54 &#43;0900"
                    class="no-wrap">
                    Sat, 30 Mar 2024 20:03:54 &#43;0900</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Mon, 28 Oct 2024 23:41:54 &#43;0900"
                    class="no-wrap">
                    Mon, 28 Oct 2024 23:41:54 &#43;0900</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      1710 Words
                    <span class="file-info-divider"></span>
                                        8 min

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/networking">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      Networking
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/hardware">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      Hardware
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><blockquote>
<p>This post was written for <code>studying</code>. There maybe a lot wrong going on.</p>
</blockquote>
<h2 id="목차">목차</h2>
<ul>
<li><a href="#how-nics-work">How NICs work?</a></li>
<li><a href="#switch-and-router-whats-different">Switch and Router, What&rsquo;s different?</a></li>
<li><a href="#l2-switch-vs-l3-switch">L2 Switch vs L3 Switch</a></li>
</ul>
<hr>
<h1 id="how-nics-work">How NICs work?</h1>
<p>You may interest: <a href="https://domicmeia.github.io/post/lan1/">Network - LAN Synopsis</a></p>
<hr>
<p>NIC stands for Network Interface Card. It&rsquo;s a hardware component that <strong>enables a computer to connect to a network</strong>, such as a local area network (LAN) or the Internet.</p>
<p>Inside every NIC, burned onto some type of ROM chip, is special firmware containing a unique identifier with a 48-bit value called the media access control address, or MAC address.</p>
<h2 id="data-transmission-and-reception">Data Transmission and Reception</h2>
<p>When the computer needs to send data over the network, the NIC receives the data from the computer&rsquo;s CPU/RAM and converts it into a <strong>format suitable for transmission</strong> over the network medium. This process involves packetizing the data according to the appropriate network protocol (e.g., TCP/IP for Ethernet networks). The NIC then transmits these packets onto the network medium.</p>
<h2 id="mac-address-handling">MAC Address Handling</h2>
<p>Each NIC has a unique Media Access Control (MAC) address burned into its hardware. When sending data, the NIC encapsulates it with the MAC addresses of both the source (the computer&rsquo;s NIC) and the destination (the intended recipient&rsquo;s NIC). This addressing ensures that the data reaches the correct destination on the network.</p>
<h2 id="protocol-processing">Protocol Processing</h2>
<p>NICs handle various networking protocols according to the communication standards supported by the network. For example, Ethernet NICs handle the Ethernet protocol, while Wi-Fi NICs handle Wi-Fi protocols like IEEE 802.11. The NIC interprets and processes these protocols to ensure that data is transmitted and received correctly.</p>
<p>Overall, <strong>NICs serve as the gateway between a computer and the network</strong>, facilitating the exchange of data and enabling communication with other devices on the network. Their efficient operation is essential for reliable network connectivity and optimal performance of networked applications and services.</p>
<hr>
<h1 id="switch-and-router-whats-different">Switch and Router, What&rsquo;s different?</h1>
<hr>
<p>Switch has a MAC address on its NIC but is set to Promiscuous mode, allowing it to receive <strong>all frames</strong> regardless of MAC address.</p>
<p>A <strong>Router</strong>, unlike a switch, has a MAC address on its NIC and is configured with an IP address as well. Each interface of the router belongs to a different LAN. The Router&rsquo;s NICs function similarly to those of typical IP devices and handle Ethernet frames in the following cases, forwarding them to the upper layers:</p>
<ol>
<li>When the Destination MAC address matches the MAC address of its own interface.</li>
<li>When the Destination MAC address is a Broadcast MAC address.</li>
<li>When the Destination MAC address is a Multicast MAC address.</li>
</ol>
<p>There is a Receive mode called <strong>Promiscuous Mode</strong> in the MAC controller. For Window PCs or Linux/Unix Servers, the NIC&rsquo;s Promiscuous Mode is usually <strong>disabled by default.</strong> When using tools like Wireshark or tcpdump to receive packet dumps, <strong>enabling</strong> the tool initiates Promiscuous Mode, allowing the NIC to accept <strong>all incoming frames without filtering</strong> based on MAC address. In L2 Switches, Promiscuous Mode is enabled on all ports. Therefore, the MAC controller accepts and forwards all Ethernet frames without filtering based on MAC addresses. This is why the MAC addresses of switching ports on L2 Switches are rarely used in actual communication, leading some people to occasionally wonder if L2 Switches lack MAC controllers.</p>
<p>Although L2 Switches accept all frames in Promiscuous mode, filtering occurs at the MAC controller level when VLAN Tag filtering is applied. <strong>Untagged ports reject VLAN Tagged frames, and Tagged ports filter frames with unauthorized VLAN tags.</strong></p>
<hr>
<h1 id="host-to-host-through-a-switch">Host to Host through a Switch</h1>
<hr>
<p>A Switch primarily has four functions: Learning, Flooding, Forwarding, and Filtering:</p>
<h3 id="1-learning">1. Learning</h3>
<p>Being a Layer 2 device, a Switch will make all its decisions based upon information found in the L2 Header. Specifically, a Switch will use the Source MAC address and Destination MAC address to make its forwarding decisions.</p>
<p>One of the goals of the Switch is to create a MAC Address Table, mapping each of its switchports to the MAC address of the connected devices.</p>
<h4 id="technical-mechanisms">Technical Mechanisms</h4>
<ul>
<li>
<p><strong>MAC Address Table Structure</strong>:</p>
<ul>
<li>The MAC address table (or Content Addressable Memory, CAM) typically contains:
<ul>
<li><strong>MAC Address</strong>: The unique identifier of the device.</li>
<li><strong>Port Number</strong>: The physical port on the switch where the device is connected.</li>
<li><strong>VLAN Identifier</strong>: If VLANs are used, the switch also associates MAC addresses with VLAN IDs to differentiate between devices in different broadcast domains.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Learning Process</strong>:</p>
<ul>
<li>Each time a switch receives a frame:
<ol>
<li>It examines the <strong>source MAC address</strong>.</li>
<li>If the MAC address is not in the table, it adds a new entry with a timestamp.</li>
<li>If the MAC address is already present but the associated port differs, the switch updates the port number.</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Aging and Timers</strong>:</p>
<ul>
<li>Entries in the MAC address table have an <strong>aging timer</strong>. If a switch does not see a frame from a MAC address for a predefined period (often configurable, e.g., 300 seconds), the entry is removed to free up resources.</li>
</ul>
</li>
</ul>
<h4 id="protocols-and-standards">Protocols and Standards</h4>
<ul>
<li><strong>IEEE 802.3 (Ethernet)</strong>: This standard governs the transmission of frames in Ethernet networks, and the learning function is inherent to how Ethernet switches operate.</li>
</ul>
<h3 id="2-flooding">2. Flooding</h3>
<h4 id="technical-mechanisms-1">Technical Mechanisms</h4>
<ul>
<li>
<p><strong>Broadcast Transmission</strong>:</p>
<ul>
<li>When a switch floods a frame, it sends it out all ports except the incoming port. This uses the broadcast MAC address (<code>FF:FF:FF:FF:FF:FF</code>), which is recognized by all devices on the local segment.</li>
</ul>
</li>
<li>
<p><strong>Learning Through Flooding</strong>:</p>
<ul>
<li>When devices receive flooded frames, they typically respond (if applicable). For example, when a device receives a frame addressed to it for the first time, it will send a reply, allowing the switch to learn its location.</li>
</ul>
</li>
</ul>
<h4 id="protocols-and-standards-1">Protocols and Standards</h4>
<ul>
<li><strong>Ethernet Protocol</strong>: The flooding mechanism utilizes the Ethernet standard for broadcasting frames across the network.</li>
</ul>
<h3 id="3-forwarding">3. Forwarding</h3>
<h4 id="technical-mechanisms-2">Technical Mechanisms</h4>
<ul>
<li>
<p><strong>Frame Processing Logic</strong>:</p>
<ul>
<li>When a switch receives a frame:
<ol>
<li>It checks the <strong>destination MAC address</strong> against its MAC address table.</li>
<li>If found, it forwards the frame out the corresponding port.</li>
<li>If not found, it defaults to flooding.</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Switching Techniques</strong>:</p>
<ul>
<li><strong>Store-and-Forward Switching</strong>:
<ul>
<li>The switch buffers the entire frame, checks for errors (using CRC), and then forwards the frame. This method minimizes the chance of forwarding corrupted frames but can introduce latency.</li>
</ul>
</li>
<li><strong>Cut-Through Switching</strong>:
<ul>
<li>The switch begins forwarding the frame as soon as it reads the destination MAC address. This reduces latency but may forward bad frames.</li>
</ul>
</li>
<li><strong>Fragment-Free Switching</strong>:
<ul>
<li>A hybrid approach where the switch reads the first 64 bytes of a frame (the collision zone) before forwarding, reducing the chances of forwarding collisions while still maintaining lower latency than store-and-forward.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="protocols-and-standards-2">Protocols and Standards</h4>
<ul>
<li><strong>IEEE 802.1D</strong>: This standard defines the operation of bridges and switches, specifying frame forwarding rules.</li>
</ul>
<h3 id="4-filtering">4. Filtering</h3>
<h4 id="technical-mechanisms-3">Technical Mechanisms</h4>
<ul>
<li>
<p><strong>Frame Evaluation</strong>:</p>
<ul>
<li>Switches evaluate incoming frames based on their destination MAC addresses, comparing them to the MAC address table. They also check for conditions that would require filtering:
<ul>
<li>If the source and destination MAC addresses are the same (loop prevention).</li>
<li>If VLAN filtering rules are applied (ensuring traffic only flows within the same VLAN).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Implementing Security Measures</strong>:</p>
<ul>
<li>Port security features can restrict which MAC addresses are allowed to communicate through specific ports, providing an additional layer of filtering.</li>
</ul>
</li>
</ul>
<h4 id="protocols-and-standards-3">Protocols and Standards</h4>
<ul>
<li><strong>IEEE 802.1Q</strong>: This standard specifies VLAN tagging, enabling switches to filter traffic based on VLAN membership and ensuring that traffic does not cross VLAN boundaries.</li>
</ul>
<h3 id="how-these-functions-interact-in-a-network-scenario"><strong>How These Functions Interact in a Network Scenario</strong></h3>
<ol>
<li>
<p><strong>Initial Communication</strong>:</p>
<ul>
<li>Host A sends data to Host B. Since Host B’s MAC is initially unknown to the switch, the switch floods the frame to all ports except the one Host A is connected to.</li>
</ul>
</li>
<li>
<p><strong>Learning and Flooding</strong>:</p>
<ul>
<li>When Host B responds, the switch learns its MAC address, associates it with a specific port, and updates its MAC table.</li>
</ul>
</li>
<li>
<p><strong>Subsequent Forwarding</strong>:</p>
<ul>
<li>The next time Host A communicates with Host B, the switch forwards frames directly to Host B’s port, reducing unnecessary traffic.</li>
</ul>
</li>
<li>
<p><strong>Filtering with VLANs</strong>:</p>
<ul>
<li>If Host A and Host B belong to separate VLANs, the switch filters frames to prevent cross-VLAN communication unless routing or inter-VLAN communication is specifically configured.</li>
</ul>
</li>
<li>
<p><strong>Ongoing Management</strong>:</p>
<ul>
<li>As the network grows, the switch dynamically updates its MAC table, filters traffic within VLANs, floods broadcasts or unknown MACs when needed, and forwards known traffic efficiently.</li>
</ul>
</li>
</ol>
<hr>
<h1 id="l2-switch-vs-l3-switch">L2 Switch vs L3 Switch</h1>
<p>Reference: <a href="https://www.cables-solutions.com/layer-2-layer-3-layer-4-switch-whats-the-difference.html">Layer 2, Layer 3 &amp; Layer 4 Switch: What’s the Difference?</a></p>
<hr>
<p>Before explicitly configuring it to operate as an L3 Switch, a <strong>Layer 3 (L3) Switch operates as an L2 Switch.</strong> To function as an L2 Switch, the MAC controller&rsquo;s Promiscuous Mode is enabled by default. Cisco L3 Switches can activate Inter-VLAN routing functionality by entering the command &ldquo;ip routing&rdquo;. By creating Switch Virtual Interfaces (SVIs) for each VLAN, IP routing becomes possible between different VLANs.</p>
<p><strong>In an L3 Switch, ports belonging to the same VLAN operate as an L2 Switch, while nodes belonging to different VLANs function as routers.</strong> Even when operating as an L3 Switch by entering the &ldquo;ip routing&rdquo; command, ports belonging to the same VLAN can still operate as an L2 Switch. Thus, the MAC controller of the L3 Switch, like that of an L2 Switch, can utilize Promiscuous Mode to pass all Ethernet frames to the Network Processor (NP) and perform MAC filtering at the NP.</p>
<p>However, depending on the vendor&rsquo;s implementation, Promiscuous Mode may be disabled when a specific port is explicitly configured as a routed port (similar to a router&rsquo;s port, belonging to a single subnet with its own assigned IP address).</p>
<p><img src="/images/posts/switch23.png" alt="switch23"></p>
<p>결론! L3 Swtich는 VLAN이 같은 port간에는 L2 Switch로 동작하고, 서로 다른 VLAN에 속하는 node들에게는 router로 동작함!</p>
<hr>
<h1 id="subnet">Subnet</h1>
<p>Reference:<a href="https://domicmeia.github.io/post/osi3/">Networking: OSI layer 3</a></p>
<hr>
<p>Mac adresses work for small network, but what happens when the network gets big, like the size of the entire internet? When networks get large, you can&rsquo;t use the MAC addresses anymore. Large networks need a logical addressing method that ignores the hardware and enables you to break up the entire large network into smaller networks called <strong>subnets</strong></p>
<p><img src="/images/posts/subnet.png" alt="switch23"></p>
<p>Detach each interface form its host or router, creating &ldquo;<strong>islands</strong>&rdquo; of isolated networks each isolated network is <strong>Subnet</strong></p>
</article>
              </div>

              
            </div>
          </div>
        </div>
      </div>

      <div class="pagination-nav">
        <div class="pagination-button next-post">
          
          <div>«&nbsp;</div><a class="pagination-link link-reverse" href="https://domicmeia.github.io/post/osi3/"> [Networking]OSI layer 3</a>
          
        </div>
        
        <div class="pagination-button previous-post">
          
          <a class="pagination-link link-reverse" href="https://domicmeia.github.io/post/storage1/">[OS]System Hardware &nbsp;</a><div> »</div>
          
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://domicmeia.github.io/js/toc.js'></script>
<link rel="stylesheet" href='https://domicmeia.github.io/css/toc.css' />


  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light"
  >
    <ul
      class="list-style-none d-flex flex-wrap col-12 flex-justify-center mb-2 mb-lg-0"
    >
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>

</body>

<script type="application/javascript" src="https://domicmeia.github.io/js/github-style.js"></script>

<script src="https://domicmeia.github.io/js/mark.es6.min.js"></script>


<script type="text/javascript">

  const host = window.location.host;
  const keyword = localStorage.getItem('keyword');
  localStorage.removeItem('keyword');

  if (keyword) {
    const markInstance = new Mark(document.body);
    markInstance.unmark({
      done: function() {
        markInstance.mark(keyword);
      }
    });
  }

  const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--color-bg-primary');
  const mutedColor = getComputedStyle(document.documentElement).getPropertyValue('--color-fg-muted');
  const hoverColor = '#216EEB';

  let originalStyle;
  let svgOriginalStyle;
  let titleOriginalStyle;

  const onMouseOver = (node) => {
    originalStyle = Object.assign({}, node.style);
    node.style.backgroundColor = hoverColor;

    const child = node.querySelector('.js-jump');
    child.classList.remove('d-on-nav-focus');

    const title = node.querySelector('.title');
    if (title && primaryColor === ' #fff') {
      titleOriginalStyle = title.style;
      title.style.color = '#fff';
    }

    const svg = node.querySelector('.octicon');
    if (svg) {
      svgOriginalStyle = svg.style;
      svg.style.color = '#fff';
    }
  }

  const onMouseLeave = (node) => {
    node.style = originalStyle;
    const child = node.querySelector('.js-jump');
    child.classList.add('d-on-nav-focus');

    const title = node.querySelector('.title');
    title.style = titleOriginalStyle;

    const svg = node.querySelector('.octicon');
    svg.style = svgOriginalStyle;
  }

  const createSearchItem = (title, link, index) => {
    return `
    <li class="color-bg-primary search-item d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search"
        role="option" aria-selected="false" tabindex="${index}">
        <a onmouseover="onMouseOver(this)" onmouseleave="onMouseLeave(this)"
          class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2"
          href="${link}" data-item-type="scoped_search">
          <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center ">
            <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16"
              version="1.1" width="16" data-view-component="true"
              class="octicon octicon-repo js-jump-to-octicon-repo  flex-shrink-0">
              <path fill-rule="evenodd"
                d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z">
              </path>
            </svg>
          </div>    

          <div
            class="title jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
            ${title}
          </div>

          <div aria-hidden="true" style="color: var(--color-fg-muted);"
            class="color-bg-primary js-jump border rounded-2 flex-shrink-0 color-bg-subtle px-1 ml-1 f6 d-on-nav-focus js-jump-to-badge-jump">
            Jump to
            <span class="d-inline-block ml-1 v-align-middle">↵</span>
          </div>
        </a>
      </li>
    `
  }

  const createGoogleSearchItem = (keyword) => {
    return `
    <li class="color-bg-primary search-item d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search"
        role="option" aria-selected="false" tabindex="0">
        <a onmouseover="onMouseOver(this)" onmouseleave="onMouseLeave(this)"
          class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2"
          href="https://www.google.com/search?q=${keyword}" target="_blank" data-item-type="scoped_search">
          <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center ">
            <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search flex-shrink-0">
                <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
            </svg>
          </div>    

          <div
            class="title jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
            ${keyword}
          </div>

          <div aria-hidden="true" style="color: var(--color-fg-muted);"
            class="color-bg-primary js-jump border rounded-2 flex-shrink-0 color-bg-subtle px-1 ml-1 f6 d-on-nav-focus js-jump-to-badge-jump">
            Google search
            <span class="d-inline-block ml-1 v-align-middle">↵</span>
          </div>
        </a>
      </li>
    `
  }

  const stripHtml = (html) => {
    let tmp = document.createElement('div');
    tmp.innerHTML = html;

    
    const styles = tmp.getElementsByTagName('style');
    while(styles[0]) {
      styles[0].parentNode.removeChild(styles[0]);
    }

    
    const scripts = tmp.getElementsByTagName('script');
    while(scripts[0]) {
      scripts[0].parentNode.removeChild(scripts[0]);
    }
    
    return tmp.textContent || tmp.innerText || "";
  }

  const inputDom = document.querySelector(".Header-search-input");
  const resultDom = document.getElementById('jump-to-results');
  let debounceTimer;
  let parser;
  let xmlDoc;

  const search = (_keyword) => {

    resultDom.innerHTML = '';

    const keyword = _keyword;

    if (!keyword) return;

    const progressDom = document.getElementById('search-progress');
    if (progressDom && progressDom.classList.contains('d-none')) {
      progressDom.classList.remove('d-none');
    }

    localStorage.setItem('keyword', keyword);
    fetch(`${host.indexOf('localhost') > -1 ? 'http://' : 'https://'}${host}/index.xml`).then(resp => resp.text()).then(async (res) => {
      parser = new DOMParser();
      xmlDoc = parser.parseFromString(res, 'text/xml');
      const linkResult = xmlDoc.getElementsByTagName('link');
      const titleResult = xmlDoc.getElementsByTagName('title');
      const arr = [];

      const matched = [];
      await (async function searchLink() {
        for (let i = 0; i < linkResult.length; i++) {
          await fetch(linkResult[i].textContent).then(resp => resp.text().then(res => {
            const pureText = stripHtml(res);
            if (pureText.indexOf(keyword) >= 0) {
              matched.push(i);
            }
          }))
        }
      })();

      const googleSearchItem = createGoogleSearchItem(keyword);
      const node= document.createRange().createContextualFragment(googleSearchItem);
      resultDom.appendChild(node);

      matched.map((itemIndex, index) => {
        const r = createSearchItem(titleResult[itemIndex].textContent, linkResult[itemIndex].textContent, index + 1);
        const node = document.createRange().createContextualFragment(r);
        resultDom.appendChild(node);
      });

      if (progressDom && !progressDom.classList.contains('d-none')) {
        progressDom.classList.add('d-none');
      }
    });
  }

  const debounce = (callback, time) => {
    window.clearTimeout(debounceTimer);
    debounceTimer = window.setTimeout(callback, time);
  };

  ['focus', 'input'].forEach(event => {
    inputDom.addEventListener(event, (e) => {
      debounce(() => search(e.target.value), 500);
    }, false);
  });

  inputDom.addEventListener('blur', () => {
    setTimeout(() => {
      resultDom.innerHTML = '';
    }, 100);
  });

</script>






</html>