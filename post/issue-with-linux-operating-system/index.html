<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <script
    type="application/javascript"
    src='https://domicmeia.github.io/js/theme-mode.js'
  ></script>
  <link rel="stylesheet" href='https://domicmeia.github.io/css/frameworks.min.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/github.min.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/github-style.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/light.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/dark.css' />
  <link rel="stylesheet" href='https://domicmeia.github.io/css/syntax.css' />
  
  <title>
    Issue with linux operating system | Domicmeia
  </title>
  
  <link rel="icon" type="image/x-icon" href="/images/avatar.jpeg" />
  
  <meta name="theme-color" content="#1e2327" />

  
  <meta
  name="description"
  content="Issue with linux operating system"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://domicmeia.github.io/post/issue-with-linux-operating-system/" />


<meta name="twitter:card" content="summary" />
<meta
  name="twitter:title"
  content="Issue with linux operating system - Domicmeia"
/>
<meta
  name="twitter:description"
  content="Issue with linux operating system"
/>
<meta name="twitter:site" content="https://domicmeia.github.io/" />
<meta name="twitter:creator" content="" />
<meta
  name="twitter:image"
  content="https://domicmeia.github.io/"
/>


<meta
  property="og:type"
  content="article"
/>
<meta
  property="og:title"
  content="Issue with linux operating system - Domicmeia"
/>
<meta
  property="og:description"
  content="Issue with linux operating system"
/>
<meta property="og:url" content="https://domicmeia.github.io/post/issue-with-linux-operating-system/" />
<meta property="og:site_name" content="Issue with linux operating system" />
<meta
  property="og:image"
  content="https://domicmeia.github.io/"
/>
<meta property="og:image:width" content="2048" />
<meta property="og:image:height" content="1024" />

<meta property="article:published_time" content="2024-01-27 23:52:09 &#43;0900 KST" />















</head>


<body>
  

<style>
  .height-limitation {
    max-height: 300px;
    overflow-y: scroll;
  }

  .loader {
    border: 4px solid #f3f3f3;
    border-bottom: 4px solid var(--color-fg-muted);
    border-radius: 50%;
    width: 30px;
    height: 30px;
    animation: spin 1s linear infinite;
    margin: 0 auto;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>

<div style="position: relative">
  <header
    class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on"
  >
    <div
      class="Header-item mobile-none"
      style="margin-top: -4px; margin-bottom: -4px"
    >
      <a class="Header-link" href="https://domicmeia.github.io/" aria-label="Home">
        <svg
          class="octicon"
          height="32"
          viewBox="0 0 16 16"
          version="1.1"
          width="32"
        >
          <path
            fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
          ></path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button
        class="Header-link btn-link js-details-target"
        type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'"
        aria-label="Search"
      >
        <svg
          height="24"
          class="octicon octicon-three-bars"
          viewBox="0 0 16 16"
          version="1.1"
          width="24"
        >
          <path
            fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"
          ></path>
        </svg>
      </button>
    </div>
    <div
      style="display: none"
      id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex"
    >
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"
      >
        <div class="position-relative">
          <form
            target="_blank"
            action="https://www.google.com/search"
            accept-charset="UTF-8"
            method="get"
            autocomplete="off"
          >
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center"
            >
              <input
                type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q"
                value=""
                placeholder="Search"
                autocomplete="off"
              />
              <input type="hidden" name="q" value="site:https://domicmeia.github.io/" />
              <div
                class="js-jump-to-suggestions-container jump-to-suggestions overflow-hidden position-absolute"
              >
                <div
                  id="search-progress"
                  class="d-none color-bg-primary no-underline p-2"
                  role="progress"
                  aria-selected="false"
                >
                  <div class="loader"></div>
                </div>

                <ul
                  id="jump-to-results"
                  role="listbox"
                  class="Box border-0 p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container js-active-navigation-container height-limitation"
                ></ul>
              </div>
            </label>
          </form>
        </div>
      </div>
    </div>

    <div
      class="Header-item Header-item--full flex-justify-center d-md-none position-relative"
    >
      <a class="Header-link" href="https://domicmeia.github.io/" aria-label="Home">
        <svg
          class="octicon octicon-mark-github v-align-middle"
          height="32"
          viewBox="0 0 16 16"
          version="1.1"
          width="32"
        >
          <path
            fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
          ></path>
        </svg>
      </a>
    </div>
    <div class="Theme-switcher Header-item" style="margin-right: 0">
      <span
        role="button"
        class="Header-link no-select"
        onclick="switchTheme()"
        style="cursor: pointer"
        aria-label="Switch theme"
      >
        <svg
          style="fill: var(--color-profile-color-modes-toggle-moon)"
          class="no-select"
          viewBox="0 0 16 16"
          version="1.1"
          width="16"
          height="16"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z"
          ></path>
        </svg>
      </span>
    </div>
  </header>
</div>

  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://domicmeia.github.io/">
                  <img class=" avatar-user"
                    src="/images/avatar.jpeg"
                    width="32" height="32" alt="domicmeia"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://domicmeia.github.io/">domicmeia</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://domicmeia.github.io/post/issue-with-linux-operating-system/">Issue with linux operating system</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Sat, 27 Jan 2024 23:52:09 &#43;0900"
                    class="no-wrap">
                    Sat, 27 Jan 2024 23:52:09 &#43;0900</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Mon, 29 Jan 2024 23:21:45 &#43;0900"
                    class="no-wrap">
                    Mon, 29 Jan 2024 23:21:45 &#43;0900</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      1549 Words
                    <span class="file-info-divider"></span>
                                        7 min

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/linux">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      Linux
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/troubleshooting">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      Troubleshooting
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><blockquote>
<p>This post was written for <code>studying</code>. There maybe a lot wrong going on.</p>
</blockquote>
<h2 id="목차">목차</h2>
<ul>
<li><a href="#issue-with-linux-operating-system">Issue with Linux Operating System</a>
<ul>
<li><a href="#network-connectivity">Network connectivity Issue</a></li>
<li><a href="#disk-space">Disk Space Issue</a></li>
<li><a href="#memory">Memory Issue</a></li>
<li><a href="#system-load">System Load Issue</a></li>
<li><a href="#top-consumer-processes">Top consumer processes Issue</a></li>
</ul>
</li>
<li><a href="#tricks-to-become-better-and-faster-at-diagnosing-and-resolving-the-trouble-of-a-linux-system">Tricks to become better and faster at diagnosing and resolving the trouble of a Linux system</a>
<ul>
<li><a href="#use-method">USE method</a></li>
</ul>
</li>
<li><a href="#references">References</a></li>
</ul>
<hr>
<h2 id="issue-with-linux-operating-system">Issue with Linux Operating System</h2>
<h2 id="network-connectivity">Network connectivity</h2>
<p>리눅스 서버의 문제 중 가장 흔한 것은 네트워크 커넥팅 이슈이다. 이는 시스템 관리자와 엔드유저에게 모두 치명적이다.
리눅스 서버에 네트워킹 이슈가 발생한다면 다음 4가지를 확인해야 한다.</p>
<ol>
<li>ifconfig나 ip와 같은 UseTool을 활용한다.</li>
<li>External server을 Ping하거나 traceroute 커맨드를 돌려서 network bottlenecks을 확인한다.</li>
<li>때때로, 트래픽을 차단하는 방화벽이 있을 수 있다. 방화벽 규칙을 적절히 했는지 확인한다.</li>
<li>물리 네트워크 장비를 확인한다.</li>
</ol>
<h3 id="tip-traceroute-command">TIP! traceroute command</h3>
<p><strong>ping</strong>을 이용하여 IP 네트워크 접속 가능성을 확인할 수 있지만, 패킷이 실제로 어디서 유실되었는지 확인하지는 못한다. 이를 보완한 커맨드가 <strong>traceroute</strong>이다. 이 커맨드는 네트워크 로드를 일으키기 때문에, 일반적인 조작 중에는 절대로 사용하지 말고 트러블슈팅 중에만 사용해야하는 것을 명시한다.</p>
<p>네트워킹 문제가 아니라면, 다음과 같은 문제가 있을 수 있다.
local과 webserver 두 관점에서 원인을 파악해보자.</p>
<h2 id="disk-space">Disk Space</h2>
<p>일단 Disk Space를 체크하기 위해서 df 를 사용한다. -h argument를 통해 human readable한 MB/GB 형태로 표출할 수 있다. 이중에 Use%가 100%가 된 volume이 있는지 찾아본다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">domicmeia@domicmeia:~$ df -h
</span></span><span class="line"><span class="cl">Filesystem                         Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">tmpfs                              392M  1.6M  390M   1% /run
</span></span><span class="line"><span class="cl">/dev/mapper/ubuntu--vg-ubuntu--lv   30G   17G   12G  59% /
</span></span><span class="line"><span class="cl">tmpfs                              2.0G     <span class="m">0</span>  2.0G   0% /dev/shm
</span></span><span class="line"><span class="cl">tmpfs                              5.0M  4.0K  5.0M   1% /run/lock
</span></span><span class="line"><span class="cl">/dev/vda2                          2.0G  261M  1.6G  15% /boot
</span></span><span class="line"><span class="cl">/dev/vda1                          1.1G  6.4M  1.1G   1% /boot/efi
</span></span><span class="line"><span class="cl">tmpfs                              392M   44K  392M   1% /run/user/1000
</span></span></code></pre></div><p>사실, disk 문제였으면 느려지는 것이 아니라 crash 했을 것이다.</p>
<h2 id="memory">Memory</h2>
<p>메모리가 부족할 경우 운영체제는 현재 사용되지 않는 부분을 디스크에 임시로 기록할 수 있다(swap out). OS는 freed memory를 다음 프로세스에게 제공한 다음, swapped data의 주인 프로세스가 다시 필요할 때 다시 읽어온다. 이 방식은 swapping이라 불리는데, 디스크에 읽고 쓰는 과정은 RAM에서 바로 읽고 쓰는 것보다 훨씬 느리므로 시스템의 성능 저하를 불러온다.</p>
<p>메모리의 활용 상태를 보기 위해 free command를 쓸 수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">domicmeia@domicmeia:~$ free -m
</span></span><span class="line"><span class="cl">               total        used        free      shared  buff/cache   available
</span></span><span class="line"><span class="cl">Mem:            <span class="m">3911</span>         <span class="m">500</span>        <span class="m">2834</span>           <span class="m">5</span>         <span class="m">576</span>        <span class="m">3255</span>
</span></span><span class="line"><span class="cl">Swap:           <span class="m">3910</span>           <span class="m">0</span>        <span class="m">3910</span>
</span></span></code></pre></div><h2 id="system-load">System Load</h2>
<p>프로세서가 계산을 수행하는데, 계산에 필요한 프로세서 시간이 부족하면 시스템 속도가 느려질 수 있다. 프로세서가 연산할 수 있는 여유 시간이 있어야만 계산을 할 수 있다. 프로세서의 load를 체크하는 한가지 방법은 uptime 이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">domicmeia@domicmeia:~$ uptime
</span></span><span class="line"><span class="cl"> 10:16:52 up <span class="m">7</span> min,  <span class="m">1</span> user,  load average: 0.00, 0.08, 0.06
</span></span></code></pre></div><p>1분, 5분, 15분간의 load 평균</p>
<h2 id="top-consumer-processes">Top consumer processes</h2>
<p>CPU와 memory의 전체적인 그림과, 이 리소스를 쓰고 있는 프로세스들을 보기 위해서는 near-real time으로 시스템 로드를 표출해주는 top command를 사용할 수 있다.</p>
<ul>
<li>shift + p : CPU 사용률 내림차순</li>
<li>shit + m : 메모리 사용률 내림차순</li>
<li>shift + t : 프로세스가 돌아가고 있는 시간 순</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">top - 10:19:53 up <span class="m">10</span> min,  <span class="m">1</span> user,  load average: 0.01, 0.05, 0.05
</span></span><span class="line"><span class="cl">Tasks: <span class="m">145</span> total,   <span class="m">1</span> running, <span class="m">144</span> sleeping,   <span class="m">0</span> stopped,   <span class="m">0</span> zombie
</span></span><span class="line"><span class="cl">%Cpu<span class="o">(</span>s<span class="o">)</span>:  0.4 us,  0.5 sy,  0.0 ni, 98.9 id,  0.0 wa,  0.0 hi,  0.2 si,  0.0 st
</span></span><span class="line"><span class="cl">MiB Mem :   3911.2 total,   2828.1 free,    505.6 used,    577.6 buff/cache
</span></span><span class="line"><span class="cl">MiB Swap:   3911.0 total,   3911.0 free,      0.0 used.   3250.6 avail Mem 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                                 
</span></span><span class="line"><span class="cl">   <span class="m">1796</span> domicme+  <span class="m">20</span>   <span class="m">0</span>  <span class="m">947576</span>  <span class="m">87484</span>  <span class="m">39060</span> S   1.0   2.2   0:05.30 node                                    
</span></span><span class="line"><span class="cl">   <span class="m">2065</span> domicme+  <span class="m">20</span>   <span class="m">0</span>  <span class="m">720212</span>  <span class="m">56800</span>  <span class="m">36584</span> S   1.0   1.4   0:02.22 node                                    
</span></span><span class="line"><span class="cl">    <span class="m">129</span> root      <span class="m">20</span>   <span class="m">0</span>       <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> I   0.3   0.0   0:00.25 kworker/1:2-mm_percpu_wq                
</span></span><span class="line"><span class="cl">   <span class="m">1173</span> root      <span class="m">20</span>   <span class="m">0</span> <span class="m">1343264</span>  <span class="m">37140</span>  <span class="m">25884</span> S   0.3   0.9   0:01.40 containerd                              
</span></span><span class="line"><span class="cl">   <span class="m">2280</span> domicme+  <span class="m">20</span>   <span class="m">0</span> <span class="m">5183100</span> <span class="m">141684</span>  <span class="m">42100</span> S   0.3   3.5   0:11.78 node                                    
</span></span><span class="line"><span class="cl">      <span class="m">1</span> root      <span class="m">20</span>   <span class="m">0</span>  <span class="m">166952</span>  <span class="m">11160</span>   <span class="m">7448</span> S   0.0   0.3   0:00.48 systemd                                 
</span></span><span class="line"><span class="cl">      <span class="m">2</span> root      <span class="m">20</span>   <span class="m">0</span>       <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> S   0.0   0.0   0:00.00 kthreadd                                
</span></span><span class="line"><span class="cl">      <span class="m">3</span> root       <span class="m">0</span> -20       <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> I   0.0   0.0   0:00.00 rcu_gp                                  
</span></span><span class="line"><span class="cl">      <span class="m">4</span> root       <span class="m">0</span> -20       <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span> I   0.0   0.0   0:00.00 rcu_par_gp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 쓰여진 약어는 다음을 참고하자</span>
</span></span><span class="line"><span class="cl">us: user cpu <span class="nb">time</span> <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> spent in user space
</span></span><span class="line"><span class="cl">sy: system cpu <span class="nb">time</span> <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> spent in kernel space
</span></span><span class="line"><span class="cl">ni: user nice cpu <span class="nb">time</span> <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> spent on low priority processes
</span></span><span class="line"><span class="cl">id: idle cpu <span class="nb">time</span> <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> spent idle
</span></span><span class="line"><span class="cl">wa: io <span class="nb">wait</span> cpu <span class="nb">time</span> <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> spent in <span class="nb">wait</span> <span class="o">(</span>on disk<span class="o">)</span>
</span></span><span class="line"><span class="cl">hi: hardware irq <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> spent servicing/handling hardware interrupts
</span></span><span class="line"><span class="cl">si: software irq <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> spent servicing/handling software interrupts
</span></span><span class="line"><span class="cl">st: steal <span class="nb">time</span> - - % CPU <span class="nb">time</span> in involuntary <span class="nb">wait</span> by virtual cpu <span class="k">while</span> hypervisor is servicing another processor <span class="o">(</span>or<span class="o">)</span> % CPU <span class="nb">time</span> stolen from a virtual machine
</span></span></code></pre></div><h1 id="checking-process">Checking process</h1>
<p>최고 사용량을 차지하는 프로세스를 찾았다면, 해당 PID와 ps 명령어를 통해서 조금 더 자세히 알아보자.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">domicmeia@domicmeia:~$ ps -ef<span class="p">|</span> grep <span class="m">1796</span> <span class="p">|</span> grep -v <span class="s2">&#34;grep&#34;</span>
</span></span></code></pre></div><hr>
<h1 id="tricks-to-become-better-and-faster-at-diagnosing-and-resolving-the-trouble-of-a-linux-system">Tricks to become better and faster at diagnosing and resolving the trouble of a Linux system</h1>
<h2 id="use-method">USE Method</h2>
<ul>
<li>which is stands for Utilization, Saturation and Errors.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ dmseg <span class="c1">#kernel Buffer</span>
</span></span><span class="line"><span class="cl">$ vmstat <span class="c1">#virtual memory</span>
</span></span><span class="line"><span class="cl">$ pidstat <span class="c1">#checks every pid status</span>
</span></span><span class="line"><span class="cl">$ mtr <span class="c1">#checks network latency</span>
</span></span><span class="line"><span class="cl">$ mpstat <span class="c1">#checks every CPU usages</span>
</span></span><span class="line"><span class="cl">$ iostat <span class="c1">#checks disk status</span>
</span></span><span class="line"><span class="cl">$ free <span class="c1">#chekcs memory status</span>
</span></span><span class="line"><span class="cl">$ ifconfig <span class="c1">#checks network interfaces</span>
</span></span><span class="line"><span class="cl">$ sar <span class="c1">#checks completed system activities</span>
</span></span><span class="line"><span class="cl">$ ss <span class="c1">#checks connection performances</span>
</span></span><span class="line"><span class="cl">$ iftop <span class="c1">#checks network performances</span>
</span></span><span class="line"><span class="cl">$ smem <span class="c1">#checks memory allocated to per process </span>
</span></span></code></pre></div><hr>
<h2 id="references">References</h2>
<ul>
<li><a href="https://jaemunbro.medium.com/linux-%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0-%EA%B0%80%EC%9D%B4%EB%93%9C-for-beginners-8e1867bf834f">리눅스 기본 트러블 슈팅 가이드 - Jaemun Jung</a></li>
<li><a href="https://tuxcare.com/blog/5-common-linux-server-problems-and-how-to-fix-them/">5 Common Linux Server Problems and How to Fix Them - Rohan Timalsina</a></li>
</ul>
</article>
              </div>

              
            </div>
          </div>
        </div>
      </div>

      <div class="pagination-nav">
        <div class="pagination-button next-post">
          
          <div>«&nbsp;</div><a class="pagination-link link-reverse" href="https://domicmeia.github.io/post/datacenterinterview/"> [interview]data center</a>
          
        </div>
        
        <div class="pagination-button previous-post">
          
          <a class="pagination-link link-reverse" href="https://domicmeia.github.io/post/readme/">&nbsp;</a><div> »</div>
          
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://domicmeia.github.io/js/toc.js'></script>
<link rel="stylesheet" href='https://domicmeia.github.io/css/toc.css' />


  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light"
  >
    <ul
      class="list-style-none d-flex flex-wrap col-12 flex-justify-center mb-2 mb-lg-0"
    >
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>

</body>

<script type="application/javascript" src="https://domicmeia.github.io/js/github-style.js"></script>

<script src="https://domicmeia.github.io/js/mark.es6.min.js"></script>


<script type="text/javascript">

  const host = window.location.host;
  const keyword = localStorage.getItem('keyword');
  localStorage.removeItem('keyword');

  if (keyword) {
    const markInstance = new Mark(document.body);
    markInstance.unmark({
      done: function() {
        markInstance.mark(keyword);
      }
    });
  }

  const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--color-bg-primary');
  const mutedColor = getComputedStyle(document.documentElement).getPropertyValue('--color-fg-muted');
  const hoverColor = '#216EEB';

  let originalStyle;
  let svgOriginalStyle;
  let titleOriginalStyle;

  const onMouseOver = (node) => {
    originalStyle = Object.assign({}, node.style);
    node.style.backgroundColor = hoverColor;

    const child = node.querySelector('.js-jump');
    child.classList.remove('d-on-nav-focus');

    const title = node.querySelector('.title');
    if (title && primaryColor === ' #fff') {
      titleOriginalStyle = title.style;
      title.style.color = '#fff';
    }

    const svg = node.querySelector('.octicon');
    if (svg) {
      svgOriginalStyle = svg.style;
      svg.style.color = '#fff';
    }
  }

  const onMouseLeave = (node) => {
    node.style = originalStyle;
    const child = node.querySelector('.js-jump');
    child.classList.add('d-on-nav-focus');

    const title = node.querySelector('.title');
    title.style = titleOriginalStyle;

    const svg = node.querySelector('.octicon');
    svg.style = svgOriginalStyle;
  }

  const createSearchItem = (title, link, index) => {
    return `
    <li class="color-bg-primary search-item d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search"
        role="option" aria-selected="false" tabindex="${index}">
        <a onmouseover="onMouseOver(this)" onmouseleave="onMouseLeave(this)"
          class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2"
          href="${link}" data-item-type="scoped_search">
          <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center ">
            <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16"
              version="1.1" width="16" data-view-component="true"
              class="octicon octicon-repo js-jump-to-octicon-repo  flex-shrink-0">
              <path fill-rule="evenodd"
                d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z">
              </path>
            </svg>
          </div>    

          <div
            class="title jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
            ${title}
          </div>

          <div aria-hidden="true" style="color: var(--color-fg-muted);"
            class="color-bg-primary js-jump border rounded-2 flex-shrink-0 color-bg-subtle px-1 ml-1 f6 d-on-nav-focus js-jump-to-badge-jump">
            Jump to
            <span class="d-inline-block ml-1 v-align-middle">↵</span>
          </div>
        </a>
      </li>
    `
  }

  const createGoogleSearchItem = (keyword) => {
    return `
    <li class="color-bg-primary search-item d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search"
        role="option" aria-selected="false" tabindex="0">
        <a onmouseover="onMouseOver(this)" onmouseleave="onMouseLeave(this)"
          class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2"
          href="https://www.google.com/search?q=${keyword}" target="_blank" data-item-type="scoped_search">
          <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center ">
            <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search flex-shrink-0">
                <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
            </svg>
          </div>    

          <div
            class="title jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
            ${keyword}
          </div>

          <div aria-hidden="true" style="color: var(--color-fg-muted);"
            class="color-bg-primary js-jump border rounded-2 flex-shrink-0 color-bg-subtle px-1 ml-1 f6 d-on-nav-focus js-jump-to-badge-jump">
            Google search
            <span class="d-inline-block ml-1 v-align-middle">↵</span>
          </div>
        </a>
      </li>
    `
  }

  const stripHtml = (html) => {
    let tmp = document.createElement('div');
    tmp.innerHTML = html;

    
    const styles = tmp.getElementsByTagName('style');
    while(styles[0]) {
      styles[0].parentNode.removeChild(styles[0]);
    }

    
    const scripts = tmp.getElementsByTagName('script');
    while(scripts[0]) {
      scripts[0].parentNode.removeChild(scripts[0]);
    }
    
    return tmp.textContent || tmp.innerText || "";
  }

  const inputDom = document.querySelector(".Header-search-input");
  const resultDom = document.getElementById('jump-to-results');
  let debounceTimer;
  let parser;
  let xmlDoc;

  const search = (_keyword) => {

    resultDom.innerHTML = '';

    const keyword = _keyword;

    if (!keyword) return;

    const progressDom = document.getElementById('search-progress');
    if (progressDom && progressDom.classList.contains('d-none')) {
      progressDom.classList.remove('d-none');
    }

    localStorage.setItem('keyword', keyword);
    fetch(`${host.indexOf('localhost') > -1 ? 'http://' : 'https://'}${host}/index.xml`).then(resp => resp.text()).then(async (res) => {
      parser = new DOMParser();
      xmlDoc = parser.parseFromString(res, 'text/xml');
      const linkResult = xmlDoc.getElementsByTagName('link');
      const titleResult = xmlDoc.getElementsByTagName('title');
      const arr = [];

      const matched = [];
      await (async function searchLink() {
        for (let i = 0; i < linkResult.length; i++) {
          await fetch(linkResult[i].textContent).then(resp => resp.text().then(res => {
            const pureText = stripHtml(res);
            if (pureText.indexOf(keyword) >= 0) {
              matched.push(i);
            }
          }))
        }
      })();

      const googleSearchItem = createGoogleSearchItem(keyword);
      const node= document.createRange().createContextualFragment(googleSearchItem);
      resultDom.appendChild(node);

      matched.map((itemIndex, index) => {
        const r = createSearchItem(titleResult[itemIndex].textContent, linkResult[itemIndex].textContent, index + 1);
        const node = document.createRange().createContextualFragment(r);
        resultDom.appendChild(node);
      });

      if (progressDom && !progressDom.classList.contains('d-none')) {
        progressDom.classList.add('d-none');
      }
    });
  }

  const debounce = (callback, time) => {
    window.clearTimeout(debounceTimer);
    debounceTimer = window.setTimeout(callback, time);
  };

  ['focus', 'input'].forEach(event => {
    inputDom.addEventListener(event, (e) => {
      debounce(() => search(e.target.value), 500);
    }, false);
  });

  inputDom.addEventListener('blur', () => {
    setTimeout(() => {
      resultDom.innerHTML = '';
    }, 100);
  });

</script>






</html>